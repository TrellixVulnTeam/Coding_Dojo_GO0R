<a [routerLink]="['/home']">Home</a>
<p>Add a new author:</p>
<p class="invalid-feedback d-block" *ngIf="message;">{{message.name.message}}</p>
<div>
    <form [formGroup]="authorForm" (ngSubmit)="onSubmit(authorForm.value)">
        <div class="form-group">
            <input type="text" class="form-control" formControlName="name" placeholder="Name" required>
            <div *ngIf="name.invalid && (name.dirty || name.touched) && name.value.trim() != ''" class="alert alert-danger">
                <div *ngIf="name.errors.required">
                    Name is required.
                </div>
                <div *ngIf="name.errors.minlength">
                    Name must be at least 2 characters long.
                </div>
            </div>
            <div *ngIf="name.value && (name.value.length > 0 && name.value.trim() === '') && (name.dirty || name.touched)" class="alert alert-danger">
                    Name is required.
            </div>
        </div>
        <button type="submit" class="btn btn-primary" [disabled]="authorForm.invalid || name.value.trim()===''">Submit</button>
        <button class="btn btn-secondary ml-1" [routerLink]="['/home']">Cancel</button>
    </form>
</div> 